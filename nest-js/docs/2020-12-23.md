# 2020-12-23 TIL

## ğŸ¾ ì§„í–‰ìƒí™©
 - NestJSë¡œ API ë§Œë“¤ê¸° - 7/24(ì•½ 20%)

## ğŸœ ê³µë¶€í•˜ë©´ì„œ ëŠë‚€ ì  ë° í›„ê¸°
- ë°ì½”ë ˆì´í„° ì§±ë§ë„¤! í•œ ë²ˆ ì •ë¦¬ê°€ í•„ìš”í•˜ê² êµ°
  - @Controller
  - @Injectable
- Nest Provider
- DI ê°œë…ì„ ë‹¤ì‹œ ì¡ì•„ì•¼ê² ë‹¤!

## ğŸ§ ê¸°ì–µí•˜ê³  ì‹¶ê±°ë‚˜ ì–´ë ¤ì› ë˜ ê°œë… ì •ë¦¬

### 0. ê°œë°œ í™˜ê²½ ì¤€ë¹„
0. typescript ë° ì„¤ì¹˜
```bash
npm i -g @nestjs/cli
nest new demo-nest

npm i -g typescript
npm i -D typescript
```

1. .eslintignore ì¶”ê°€
```
/*.*
```

ì´ëŸ° ì—ëŸ¬ê°€ ë‚¬ì—ˆë‹¤.
```bash
Parsing error: "parserOptions.project" has been set for u/TypeScript-eslint/parser.

The file does not match your project config: .eslintrc.js.

The file must be included in at least one of the projects provided.
```

[ì°¸ê³ ìë£Œ](https://www.it-swarm-ko.tech/ko/typescript/%EC%99%9C-typescripteslint-parser%EA%B0%80-tsconfigjson%EC%97%90-%EA%B5%AC%EC%84%B1%EB%90%9C-%ED%8C%8C%EC%9D%BC-%EC%9D%B4%EC%99%B8%EC%9D%98-%ED%8C%8C%EC%9D%BC%EC%9D%84-%ED%8F%AC%ED%95%A8%ED%95%A9%EB%8B%88%EA%B9%8C/816718051/)

2. tsconfig.json
```json
{
  "rules": {
      "semicolon": true //ì„¸ë¯¸ì½œë¡  ê°•ì œ
    },
  ...
}
```


### 1. nest í”„ë¡œì íŠ¸ ìƒì„±
```bash
  nest new demo-nest
```

### 2. ê¸°ë³¸ êµ¬ì¡°
main - module - controller - service

1. main.ts ì‹¤í–‰
ë¹„ë™ê¸° í•¨ìˆ˜ `bootstap í•¨ìˆ˜`ê°€ ì‹¤í–‰ëœë‹¤.

ì´ í•¨ìˆ˜ ì•ˆì—ì„œ `@nestjs/core`ì˜ `NestFactory`ê°€ ì‚¬ìš©ëœë‹¤. `NestFactory`ëŠ” Application Instanceë¥¼ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ ì—¬ëŸ¬ ì •ì  ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤. ê·¸ ì¤‘ `create í•¨ìˆ˜`ë¡œ AppModuleì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤. í•´ë‹¹ Appì˜ ê¸°ë³¸ í¬íŠ¸ëŠ” 3000ìœ¼ë¡œ ì„¤ì •ëœë‹¤.

2. module.ts ì‹¤í–‰
AppModuleì€ main.tsì—ì„œ `NestFactory`ê°€ ë„£ì–´ì¤€ ìµœìƒìœ„ RootModuleì´ë‹¤.

ì¶”í›„ ìì‹ëª¨ë“ˆì„ `import` í•˜ì—¬ í•´ë‹¹ íŒŒì¼ì—ì„œ ì£¼ì…í•  ìˆ˜ ìˆë‹¤. 

3. controller ì‹¤í–‰
<b>Controller í´ë˜ìŠ¤ëŠ” HTTPìš”ì²­ì„ ì²˜ë¦¬í•´ì„œ ì‘ë‹µí•˜ëŠ” ì—­í• ì„ í•œë‹¤.</b>

`@Get()`ì— ì¸ìê°€ ì•„ë¬´ê²ƒë„ ì—†ê¸° ë•Œë¬¸ì— `yarn run start:dev`ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³  í¬ë¡¬ ì£¼ì†Œì°½ì— `localhost:3000/`ì— ë“¤ì–´ê°€ë©´ appServiceì˜ `getHello()`ê°€ ì‹¤í–‰ëœë‹¤.

4. Service ì‹¤í–‰
`@Injectable()`ë¡œ í•´ë‹¹ ê°œì²´ëŠ” Nestì—ì„œ Providerë¡œ, í•´ë‹¹ ë°ì½”ë ˆì´í„°ë¥¼ í†µí•´ `AppService`ê°œì²´ëŠ” ì¢…ì†ì„±ì„ ì£¼ì…í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ Nestì— ì•Œë ¤ì¤€ë‹¤.


